{"version":3,"file":"index-da78ccd1.js","sources":["../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/csv.js","../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/tsv.js","../../../../js/dataframe/example/Dataframe.svelte"],"sourcesContent":["import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","<script lang=\"ts\">\n\timport { csvParseRows, tsvParseRows } from \"d3-dsv\";\n\timport type { Gradio } from \"@gradio/utils\";\n\n\texport let gradio: Gradio;\n\texport let value: (string | number)[][] | string;\n\texport let samples_dir: string;\n\texport let type: \"gallery\" | \"table\";\n\texport let selected = false;\n\texport let index: number;\n\n\tlet hovered = false;\n\tlet loaded_value: (string | number)[][] | string = value;\n\tlet loaded = Array.isArray(loaded_value);\n\n\t$: if (!loaded && typeof value === \"string\" && /\\.[a-zA-Z]+$/.test(value)) {\n\t\tfetch(samples_dir + value)\n\t\t\t.then((v) => v.text())\n\t\t\t.then((v) => {\n\t\t\t\ttry {\n\t\t\t\t\tif ((value as string).endsWith(\"csv\")) {\n\t\t\t\t\t\tconst small_df = v\n\t\t\t\t\t\t\t.split(\"\\n\")\n\t\t\t\t\t\t\t.slice(0, 4)\n\t\t\t\t\t\t\t.map((v) => v.split(\",\").slice(0, 4).join(\",\"))\n\t\t\t\t\t\t\t.join(\"\\n\");\n\n\t\t\t\t\t\tloaded_value = csvParseRows(small_df);\n\t\t\t\t\t} else if ((value as string).endsWith(\"tsv\")) {\n\t\t\t\t\t\tconst small_df = v\n\t\t\t\t\t\t\t.split(\"\\n\")\n\t\t\t\t\t\t\t.slice(0, 4)\n\t\t\t\t\t\t\t.map((v) => v.split(\"\\t\").slice(0, 4).join(\"\\t\"))\n\t\t\t\t\t\t\t.join(\"\\n\");\n\n\t\t\t\t\t\tloaded_value = tsvParseRows(small_df);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(gradio.i18n(\"dataframe.incorrect_format\"));\n\t\t\t\t\t}\n\n\t\t\t\t\tloaded = true;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tloaded_value = value;\n\t\t\t\tloaded = true;\n\t\t\t});\n\t}\n</script>\n\n{#if loaded}\n\t<!-- TODO: fix-->\n\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t<div\n\t\tclass:table={type === \"table\"}\n\t\tclass:gallery={type === \"gallery\"}\n\t\tclass:selected\n\t\ton:mouseenter={() => (hovered = true)}\n\t\ton:mouseleave={() => (hovered = false)}\n\t>\n\t\t{#if typeof loaded_value === \"string\"}\n\t\t\t{loaded_value}\n\t\t{:else}\n\t\t\t<table class=\"\">\n\t\t\t\t{#each loaded_value.slice(0, 3) as row, i}\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{#each row.slice(0, 3) as cell, j}\n\t\t\t\t\t\t\t<td>{cell}</td>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t{#if row.length > 3}\n\t\t\t\t\t\t\t<td>â€¦</td>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</tr>\n\t\t\t\t{/each}\n\t\t\t\t{#if value.length > 3}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"overlay\"\n\t\t\t\t\t\tclass:odd={index % 2 != 0}\n\t\t\t\t\t\tclass:even={index % 2 == 0}\n\t\t\t\t\t\tclass:button={type === \"gallery\"}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\t\t\t</table>\n\t\t{/if}\n\t</div>\n{/if}\n\n<style>\n\ttable {\n\t\tposition: relative;\n\t}\n\n\ttd {\n\t\tborder: 1px solid var(--table-border-color);\n\t\tpadding: var(--size-2);\n\t\tfont-size: var(--text-sm);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\t.selected td {\n\t\tborder-color: var(--border-color-accent);\n\t}\n\n\t.table {\n\t\tdisplay: inline-block;\n\t\tmargin: 0 auto;\n\t}\n\n\t.gallery td:first-child {\n\t\tborder-left: none;\n\t}\n\n\t.gallery tr:first-child td {\n\t\tborder-top: none;\n\t}\n\n\t.gallery td:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.gallery tr:last-child td {\n\t\tborder-bottom: none;\n\t}\n\n\t.overlay {\n\t\t--gradient-to: transparent;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tbackground: linear-gradient(to bottom, transparent, var(--gradient-to));\n\t\twidth: var(--size-full);\n\t\theight: 50%;\n\t}\n\n\t/* i dont know what i've done here but it is what it is */\n\t.odd {\n\t\t--gradient-to: var(--table-even-background-fill);\n\t}\n\n\t.even {\n\t\t--gradient-to: var(--table-odd-background-fill);\n\t}\n\n\t.button {\n\t\t--gradient-to: var(--background-fill-primary);\n\t}\n</style>\n"],"names":["dsv"],"mappings":";;;AAEA,IAAI,GAAG,GAAGA,SAAG,CAAC,GAAG,CAAC,CAAC;AACnB;AACsB,GAAG,CAAC,MAAM;AACzB,IAAI,YAAY,GAAG,GAAG,CAAC,SAAS,CAAC;AACjB,GAAG,CAAC,OAAO;AACP,GAAG,CAAC,WAAW;AACf,GAAG,CAAC,WAAW;AAChB,GAAG,CAAC,UAAU;AACZ,GAAG,CAAC;;ACRhC,IAAI,GAAG,GAAGA,SAAG,CAAC,IAAI,CAAC,CAAC;AACpB;AACsB,GAAG,CAAC,MAAM;AACzB,IAAI,YAAY,GAAG,GAAG,CAAC,SAAS,CAAC;AACjB,GAAG,CAAC,OAAO;AACP,GAAG,CAAC,WAAW;AACf,GAAG,CAAC,WAAW;AAChB,GAAG,CAAC,UAAU;AACZ,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDlB,EAAA,IAAA,wBAAA,GAAY,QAAK,QAAQ,EAAA,OAAA,iBAAA,CAAA;;;;;;;;;;;;AANxB,GAAA,YAAA,CAAA,GAAA,EAAA,OAAA,WAAA,GAAI,QAAK,OAAO,CAAA,CAAA;AACd,GAAA,YAAA,CAAA,GAAA,EAAA,SAAA,WAAA,GAAI,QAAK,SAAS,CAAA,CAAA;;;;;GAFlC,UA+BK,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AA9BS,IAAA,YAAA,CAAA,GAAA,EAAA,OAAA,WAAA,GAAI,QAAK,OAAO,CAAA,CAAA;;;;AACd,IAAA,YAAA,CAAA,GAAA,EAAA,SAAA,WAAA,GAAI,QAAK,SAAS,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxB,CAAA,IAAA,UAAA,GAAA,qBAAA,kBAAA,GAAY,CAAC,CAAA,CAAA,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA;;;gCAA5B,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;0BAUD,GAAK,CAAA,CAAA,CAAA,CAAC,MAAM,GAAG,CAAC,IAAA,iBAAA,CAAA,GAAA,CAAA,CAAA;;;;;;;;;;;;;;;;GAXtB,UAmBO,CAAA,MAAA,EAAA,KAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;AAlBC,IAAA,UAAA,GAAA,qBAAA,kBAAA,GAAY,CAAC,CAAA,CAAA,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA;;;+BAA5B,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;;;;;;;oCAAJ,MAAI,CAAA;;;iBAUD,GAAK,CAAA,CAAA,CAAA,CAAC,MAAM,GAAG,CAAC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6BAbrB,GAAY,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;qEAAZ,GAAY,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;wBAMJ,GAAI,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA;;;;;;;;;;;GAAT,UAAc,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;;sEAAT,GAAI,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,YAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAGT,UAAS,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;AAJH,CAAA,IAAA,YAAA,GAAA,qBAAA,SAAA,GAAG,CAAC,EAAA,CAAA,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA;;;kCAAnB,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;wBAGD,GAAG,CAAA,EAAA,CAAA,CAAC,MAAM,GAAG,CAAC,IAAA,iBAAA,CAAA,GAAA,CAAA,CAAA;;;;;;;;;;;;;;;GAJpB,UAOI,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;AANI,IAAA,YAAA,GAAA,qBAAA,SAAA,GAAG,CAAC,EAAA,CAAA,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAA,CAAA;;;iCAAnB,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;;;;;;;sCAAJ,MAAI,CAAA;;;eAGD,GAAG,CAAA,EAAA,CAAA,CAAC,MAAM,GAAG,CAAC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQR,GAAK,CAAA,CAAA,CAAA,GAAG,CAAC,IAAI,CAAC,CAAA,CAAA;uCACb,GAAK,CAAA,CAAA,CAAA,GAAG,CAAC,IAAI,CAAC,CAAA,CAAA;AACZ,GAAA,YAAA,CAAA,GAAA,EAAA,QAAA,WAAA,GAAI,QAAK,SAAS,CAAA,CAAA;;;;GAJjC,UAKC,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA;;;;uCAHW,GAAK,CAAA,CAAA,CAAA,GAAG,CAAC,IAAI,CAAC,CAAA,CAAA;;;;wCACb,GAAK,CAAA,CAAA,CAAA,GAAG,CAAC,IAAI,CAAC,CAAA,CAAA;;;;AACZ,IAAA,YAAA,CAAA,GAAA,EAAA,QAAA,WAAA,GAAI,QAAK,SAAS,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;2BA7BjC,GAAM,CAAA,CAAA,CAAA,IAAA,eAAA,CAAA,GAAA,CAAA,CAAA;;;;;;;;;;;;;;;kBAAN,GAAM,CAAA,CAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAhDC,MAAc,EAAA,GAAA,OAAA,CAAA;OACd,KAAqC,EAAA,GAAA,OAAA,CAAA;OACrC,WAAmB,EAAA,GAAA,OAAA,CAAA;OACnB,IAAyB,EAAA,GAAA,OAAA,CAAA;AACzB,CAAA,IAAA,EAAA,QAAQ,GAAG,KAAK,EAAA,GAAA,OAAA,CAAA;OAChB,KAAa,EAAA,GAAA,OAAA,CAAA;AAEpB,CAAA,IAAA,OAAO,GAAG,KAAK,CAAA;AACf,CAAA,IAAA,YAAY,GAAmC,KAAK,CAAA;AACpD,CAAA,IAAA,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8ChB,CAAA,MAAA,kBAAA,GAAA,MAAA,YAAA,CAAA,CAAA,EAAA,OAAO,GAAG,IAAI,CAAA,CAAA;AACd,CAAA,MAAA,kBAAA,GAAA,MAAA,YAAA,CAAA,CAAA,EAAA,OAAO,GAAG,KAAK,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA7CrC,IAAA,CAAO,MAAM,IAAA,OAAW,KAAK,KAAK,QAAQ,IAAA,CAAI,cAAc,EAAC,IAAI,CAAC,KAAK,CAAA,EAAA;AACvE,IAAA,KAAK,CAAC,WAAW,GAAG,KAAK,EACvB,IAAI,CAAE,CAAC,IAAK,CAAC,CAAC,IAAI,EAClB,CAAA,CAAA,IAAI,CAAE,CAAC,IAAA;;UAED,KAAgB,CAAC,QAAQ,CAAC,KAAK,CAAA,EAAA;AAC7B,OAAA,MAAA,QAAQ,GAAG,CAAA,CACf,KAAK,CAAC,IAAI,CACV,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CACV,GAAG,CAAE,CAAC,IAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAE,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAE,IAAI,CAAC,GAAG,CAC5C,CAAA,CAAA,IAAI,CAAC,IAAI,CAAA,CAAA;uBAEX,YAAY,GAAG,YAAY,CAAC,QAAQ,CAAA,CAAA,CAAA;iBACzB,KAAgB,CAAC,QAAQ,CAAC,KAAK,CAAA,EAAA;AACpC,OAAA,MAAA,QAAQ,GAAG,CAAA,CACf,KAAK,CAAC,IAAI,CACV,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CACV,GAAG,CAAE,CAAC,IAAK,CAAC,CAAC,KAAK,CAAC,IAAI,CAAE,CAAA,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA,CAAE,IAAI,CAAC,IAAI,CAC9C,CAAA,CAAA,IAAI,CAAC,IAAI,CAAA,CAAA;uBAEX,YAAY,GAAG,YAAY,CAAC,QAAQ,CAAA,CAAA,CAAA;;AAE1B,OAAA,MAAA,IAAA,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,4BAA4B,CAAA,CAAA,CAAA;;;AAGzD,MAAA,YAAA,CAAA,CAAA,EAAA,MAAM,GAAG,IAAI,CAAA,CAAA;aACL,CAAC,EAAA;MACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAA,CAAA;;AAGhB,KAAA,CAAA,CAAA,KAAK,CAAE,CAAC,IAAA;AACR,KAAA,YAAA,CAAA,CAAA,EAAA,YAAY,GAAG,KAAK,CAAA,CAAA;AACpB,KAAA,YAAA,CAAA,CAAA,EAAA,MAAM,GAAG,IAAI,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0,1]}