{"version":3,"file":"index-ff4be2f5.js","sources":["../../../../js/dataframe/interactive/InteractiveDataframe.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { Gradio, SelectData } from \"@gradio/utils\";\n\timport { Block } from \"@gradio/atoms\";\n\timport Table from \"../shared\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\timport { afterUpdate } from \"svelte\";\n\timport { _ } from \"svelte-i18n\";\n\n\ttype Headers = string[];\n\ttype Data = (string | number)[][];\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let headers: Headers = [];\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let value: { data: Data; headers: Headers } = {\n\t\tdata: [[\"\", \"\", \"\"]],\n\t\theaders: [\"1\", \"2\", \"3\"]\n\t};\n\texport let latex_delimiters: {\n\t\tleft: string;\n\t\tright: string;\n\t\tdisplay: boolean;\n\t}[];\n\texport let height: number | undefined = undefined;\n\n\tlet old_value: string = JSON.stringify(value);\n\texport let value_is_output = false;\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\texport let label: string | null = null;\n\texport let wrap: boolean;\n\texport let datatype: Datatype | Datatype[];\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n\texport let root: string;\n\n\texport let gradio: Gradio<{\n\t\tchange: never;\n\t\tselect: SelectData;\n\t\tinput: never;\n\t}>;\n\n\texport let loading_status: LoadingStatus;\n\n\tfunction handle_change(): void {\n\t\tgradio.dispatch(\"change\");\n\t\tif (!value_is_output) {\n\t\t\tgradio.dispatch(\"input\");\n\t\t}\n\t}\n\tafterUpdate(() => {\n\t\tvalue_is_output = false;\n\t});\n\t$: {\n\t\tif (JSON.stringify(value) !== old_value) {\n\t\t\told_value = JSON.stringify(value);\n\t\t\thandle_change();\n\t\t}\n\t}\n\n\tif (\n\t\t(Array.isArray(value) && value?.[0]?.length === 0) ||\n\t\tvalue.data?.[0]?.length === 0\n\t) {\n\t\tvalue = {\n\t\t\tdata: [Array(col_count?.[0] || 3).fill(\"\")],\n\t\t\theaders: Array(col_count?.[0] || 3)\n\t\t\t\t.fill(\"\")\n\t\t\t\t.map((_, i) => `${i + 1}`)\n\t\t};\n\t}\n</script>\n\n<Block\n\t{visible}\n\tpadding={false}\n\t{elem_id}\n\t{elem_classes}\n\tcontainer={false}\n\t{scale}\n\t{min_width}\n\tallow_overflow={false}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.autoscroll}\n\t\t{...loading_status}\n\t\ti18n={gradio.i18n}\n\t/>\n\t<Table\n\t\t{label}\n\t\t{row_count}\n\t\t{col_count}\n\t\t{root}\n\t\tvalues={value}\n\t\t{headers}\n\t\ton:change={({ detail }) => {\n\t\t\tvalue = detail;\n\t\t}}\n\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\teditable\n\t\t{wrap}\n\t\t{datatype}\n\t\t{latex_delimiters}\n\t\t{height}\n\t\ti18n={gradio.i18n}\n\t/>\n</Block>\n"],"names":[],"mappings":"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"}